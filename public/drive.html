<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drive</title>
  <style>
    body {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
    }

    li {
      list-style: none;
      margin: 10px;
      width: 300px; /* Adjust the width as needed */
    }

    video {
      width: 100%;
    }
  </style>
</head>
<body>
  <h1>Media Player</h1>
  <ul id="fileList"></ul>

  <script>
    fetch('/files')
      .then(response => response.json())
      .then(data => {
        const fileListElement = document.getElementById('fileList');
        data.files.forEach(file => {
          const listItem = document.createElement('li');

          // Create a paragraph element for the file name
          const fileNameElement = document.createElement('p');
          fileNameElement.textContent = file;

          // Create a video element
          const video = document.createElement('video');

          // Create a source element for the video
          const source = document.createElement('source');
          source.src = `/files/${encodeURIComponent(file)}`;
          source.type = 'video/mp4'; // Change the type based on your file format

          video.controls = true;
          video.appendChild(source);

          listItem.appendChild(fileNameElement);
          listItem.appendChild(video);
          fileListElement.appendChild(listItem);
        });
      })
      .catch(error => console.error('Error:', error));
  </script>
</body>
</html>
